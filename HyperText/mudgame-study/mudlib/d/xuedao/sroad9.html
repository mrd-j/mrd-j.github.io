<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd" >
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="/interrupter/myStyle.css"></link>
    <script type="text/javascript" src="/js/myScript.js"></script>
</head>
<body>
<pre>
inherit ROOM;

void create()
{
        set("short", "雪山山谷");
        set("long", @LONG
山谷里遍地积雪，四周都是峭壁。只北面有一个出口，东
面似乎有个山洞。
LONG );
        set("exits", ([
                "westdown" : __DIR__"wangyougu",
                "east"     : __DIR__"shandong2",
        ]));
        set("objects", ([
                CLASS_D("xuedao") + "/shengdi" :1,
        ]));
        set("outdoors", "xuedao");
        setup();
}

int valid_leave(object me, string dir)
{
        object guarder;

        if (dir == "east" &&
            objectp(guarder = present("sheng di", this_object())))
        {
                return guarder->permit_pass(me, dir);
        }

        return ::valid_leave(me, dir);
}































</pre>
</body>
</html>
