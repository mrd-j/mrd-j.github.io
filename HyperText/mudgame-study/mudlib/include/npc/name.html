<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd" >
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="/interrupter/myStyle.css"></link>
    <script type="text/javascript" src="/js/myScript.js"></script>
</head>
<body>
<pre>
#ifndef __NAME_H__
#define __NAME_H__

string *select_a(mapping p, string except)
{
        int i;
        int r;
        int total;
        string *kp;

        kp = keys(p);
        for (total = 0, i = 0; i < sizeof(kp); i++)
                total += sizeof(p[kp[i]]);
        for (;;)
        {
                r = random(total);
                for (i = 0; i < sizeof(kp); i++)
                {
                        if (r < sizeof(p[kp[i]]))
                                break;
                        r -= sizeof(p[kp[i]]);
                }
                if (! except || strsrch(except, kp[i]) == -1)
                        break;
        }
        r &= 0xFFFE;
        return ({ kp[i], p[kp[i]][r..r] });
}

#endif






























</pre>
</body>
</html>
